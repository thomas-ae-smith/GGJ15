#const width=15.
#const height=3.
dimX(0..width).
dimY(0..height).


1{goal(X,Y):dimX(X),dimY(Y)}1.


1{bird(X,Y):dimX(X),dimY(Y)}1.

:- bird(X, Y), goal(X, Y).

dir(r,1;;l,-1).

1{path(X, Y, N) : dir(N,_); empty(X, Y)}1 :- dimX(X), dimY(Y), not bird(X,Y), not goal(X, Y).


:- path(X, Y, N), dir(N, O), not path(X+O, Y, N), not goal(X+O, Y).
:- path(0, _, _).
:- path(width, _, _).
:- empty(X,Y), path(X+O, Y, N), dir(N, O).
:- goal(X,Y), not path(X+1, Y, l), not path(X-1, Y, r).

charAt(b, X, Y) :- bird(X, Y).
charAt("G", X, Y) :- goal(X,Y).
charAt("p", X, Y) :- path(X, Y, r).
charAt("q", X, Y) :- path(X, Y, l).